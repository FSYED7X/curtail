function extractFileInfo$$module$Input_0(a){var e=0,b={name:null,ext:null};-1<a.lastIndexOf("/")&&(e=a.lastIndexOf("/"));var f=a.lastIndexOf(".");b.name=a.slice(e+1,f);b.ext=a.slice(f+1);return b}function simplify$$module$Input_0(a,e){var b=gcd$$module$Input_0(a,e);return{numerator:a/b,denominator:e/b}}function gcd$$module$Input_0(a,e){for(;0!==e;){var b=a;a=e;e=b%e}return a}
function crop$$module$Input_0(a,e,b,f,g,d){d=void 0===d?{}:d;var h=Object.assign({autoDownload:!1,crossOrigin:null},d),c=document.createElement("canvas"),k=c.getContext("2d"),l=utils.extractFileInfo(a),m=new Image;return new Promise(function(d,p){m.addEventListener("load",function(){c.width=f;c.height=g;k.drawImage(m,e,b,f,g,0,0,f,g);var a=new Image;a.addEventListener("load",function n(){if(h.autoDownload){var b=document.createElement("a");b.href=a.src;b.download=l.name+"."+l.ext;b.click()}a.removeEventListener("load",
n);d(a)});a.addEventListener("error",function(b){a.removeEventListener("error",loadCroppedImage);p(b)});a.src=c.toDataURL("image/"+l.ext).replace("image/"+l.ext,"image/octet-stream")});m.addEventListener("error",function n(a){m.removeEventListener("error",n);p(a)});m.src=a;h.crossOrigin&&(m.crossOrigin=h.crossOrigin)})}
function convert$$module$Input_0(a,e,b){b=void 0===b?{}:b;var f=Object.assign({autoDownload:!1,crossOrigin:null},b),g=["jpg","jpeg","gif","bmp"],d=utils.extractFileInfo(a);if(d.ext!==e){var h=document.createElement("canvas"),c=h.getContext("2d"),k=new Image;return new Promise(function(b,m){k.addEventListener("load",function p(){h.width=k.width;h.height=k.height;g.includes(e)&&(c.fillStyle="#FFF",c.fillRect(0,0,h.width,h.height));c.drawImage(k,0,0);var a=new Image;a.addEventListener("load",function n(){if(f.autoDownload){var c=
document.createElement("a");c.href=a.src;c.download=d.name+"."+e;c.click()}a.removeEventListener("load",n);b(a)});a.addEventListener("error",function v(b){a.removeEventListener("load",v);m(b)});a.src=h.toDataURL("image/"+e);k.removeEventListener("load",p)});k.addEventListener("error",function r(a){k.removeEventListener("load",r);m(a)});k.src=a;f.crossOrigin&&(k.crossOrigin=f.crossOrigin)})}}
function resize$$module$Input_0(a,e,b,f){f=void 0===f?{}:f;var g=Object.assign({preserveAspectRatio:!0,autoDownload:!1,crossOrigin:null},f),d=new Image;return new Promise(function(f,c){d.addEventListener("load",function l(){var a=utils.simplify(d.width,d.height);"width"===e?(d.width=b,g.preserveAspectRatio&&(d.height=Math.round(a.denominator/a.numerator*b))):"height"===e&&(d.height=b,g.preserveAspectRatio&&(d.width=Math.round(a.numerator/a.denominator*b)));d.removeEventListener("load",l);g.autoDownload&&
(a=document.createElement("a"),a.href=convertedImage.src,a.download=fileInfo.name+"."+format,a.click());f(d)});d.addEventListener("error",function q(a){d.removeEventListener("error",q);c(a)});d.src=a;g.crossOrigin&&(d.crossOrigin=g.crossOrigin)})}
function pad$$module$Input_0(a,e,b){b=void 0===b?{}:b;var f=Object.assign({paddingColor:"transparent",autoDownload:!1,crossOrigin:null},b),g=document.createElement("canvas"),d=g.getContext("2d"),h=utils.extractFileInfo(a),c=new Image;return new Promise(function(b,l){c.addEventListener("load",function q(){g.width=c.width+2*e;g.height=c.height+2*e;"transparent"!==f.paddingColor&&(d.fillStyle=f.paddingColor,d.fillRect(0,0,g.width,g.height));d.drawImage(c,g.width/2-c.width/2,g.height/2-c.height/2,c.width,
c.height);var a=new Image;a.addEventListener("load",function r(){if(f.autoDownload){var c=document.createElement("a");c.href=a.src;c.download=h.name+"."+format;c.click()}a.removeEventListener("load",r);b(a)});a.addEventListener("error",function u(b){a.removeEventListener("load",u);l(b)});a.src=g.toDataURL("image/"+h.ext);c.removeEventListener("load",q)});c.addEventListener("error",function t(a){c.removeEventListener("error",t);l(a)});c.src=a;f.crossOrigin&&(c.crossOrigin=f.crossOrigin)})}
var module$Input_0={};module$Input_0.extractFileInfo=extractFileInfo$$module$Input_0;module$Input_0.simplify=simplify$$module$Input_0;module$Input_0.crop=crop$$module$Input_0;module$Input_0.convert=convert$$module$Input_0;module$Input_0.resize=resize$$module$Input_0;module$Input_0.pad=pad$$module$Input_0;